<scroll fullscreen>
    <scrolling>
        <article>
            <section>
                <h2>observer</h2>
                <p>该<code>observer()</code>方法用于监视该节点的修改，当节点被修改时方法的回调函数会异步提供一个有序的修改流。</p>
                <code-highlight type=js>
                    document.body.observer(options, callback)
                </code-highlight>
                <p>options 为空时，其默认配置如下</p>
                <scroll class=exp stop-propagation="auto" x=auto y=false>
                    <scrolling style="min-width:580dp">
                        <table>
                            <thead>
                                <tr>
                                    <th>key</th>
                                    <th>默认值</th>
                                    <th>描述</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>attributes</td>
                                    <td><code g>true</code></td>
                                    <td>Attr 属性变动</td>
                                </tr>
                                <tr>
                                    <td>childList</td>
                                    <td><code g>true</code></td>
                                    <td>子元素的变动</td>
                                </tr>
                                <tr>
                                    <td>characterData</td>
                                    <td><code g>true</code></td>
                                    <td>节点文本内容变动</td>
                                </tr>
                                <tr>
                                    <td>attributeOldValue</td>
                                    <td><code g>true</code></td>
                                    <td>记录 Attr 变动前的值</td>
                                </tr>
                                <tr>
                                    <td>attributeFilter</td>
                                    <td>["id", "class", "style", "src", "width", "height"]</td>
                                    <td>Attr 属性变动过滤</td>
                                </tr>
                            </tbody>
                        </table>
                    </scrolling>
                </scroll>
                <code-highlight type=js>
                    document.body.observer(null, function (record) {
                        console.log(record)
                    })
                    document.body.addClass('active')
                    // Record [...]
                </code-highlight>
                <p>callback 返回值 record 是一个有序的修改流，其类型为数组。</p>
            </section>

            <section>
                <h2>getSelectionRangeInsert</h2>
                <p>该<code>getSelectionRangeInsert()</code>方法用于向可输入区域（input/textarea/htmlarea）光标位置/内容结尾（没有焦点时）之后插入内容，并返回 Range。</p>
                <code-highlight type=js>
                    HTMLInputElement.getSelectionRangeInsert(context)
                </code-highlight>
                <scroll class=exp stop-propagation="auto" x=auto y=false>
                    <scrolling style="min-width:{setting.articleWidth}dp">
                        <table>
                            <thead>
                                <tr>
                                    <th>参数</th>
                                    <th>值</th>
                                    <th>描述</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>context</td>
                                    <td><code g>[String]</code></td>
                                    <td>插入文本内容</td>
                                </tr>
                            </tbody>
                        </table>
                    </scrolling>
                </scroll>
                <code-highlight type=html>
                    <input uuid=ipt>
                    <script>
                        var input = node('ipt')
                        input.focus()
                        var range = input.getSelectionRangeInsert('test')
                        console.log(range)
                        // Range {...}
                    </script> 
                </code-highlight>
            </section>

            <section>
                <h2>getSelectionRangePosition</h2>
                <p>该<code>getSelectionRangePosition()</code>方法用于获取可输入区域（input/textarea/htmlarea）光标/指定序列字符的位置，返回位置对象。</p>
                <code-highlight type=js>
                    HTMLInputElement.getSelectionRangePosition(pos)
                </code-highlight>
                <scroll class=exp stop-propagation="auto" x=auto y=false>
                    <scrolling style="min-width:{setting.articleWidth}dp">
                        <table>
                            <thead>
                                <tr>
                                    <th>参数</th>
                                    <th>值</th>
                                    <th>描述</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pos</td>
                                    <td><code g>[Number]</code></td>
                                    <td>指定获取位置的字符序列</td>
                                </tr>
                            </tbody>
                        </table>
                    </scrolling>
                </scroll>
                <code-highlight type=html>
                    <input uuid=ipt>
                    <script>
                        var input = node('ipt')
                        input.focus()
                        var position = input.getSelectionRangePosition()
                        console.log(position)
                        // { left : 0, top: 0 }
                        input.value = 'abcde'
                        position = input.getSelectionRangePosition(3)  // 获取输入框中第三个字符位置
                        console.log(position)
                        // { left : 48, top: 0 }
                    </script> 
                </code-highlight>
            </section>

            <include footer></include>
        </article>
    </scrolling>
</scroll>