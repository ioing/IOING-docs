<scroll fullscreen>
    <scrolling>
        <article>
            <section>
                <h2>基础变量</h2>
                <shadow>
                    <style>
                        .content__box {
                            position: relative;
                            height: 30vw;
                            min-height: 150dp;
                            max-height: 250dp;
                            margin: -19dp -12dp 0;
                            background-color: #f9f9f9;
                        }
                        .content {
                            position: absolute;
                            top: 50%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            margin: auto;
                            width: 390dp;
                            height: 40dp;
                            overflow: hidden;
                            font-family: 'Lato', sans-serif;
                            font-size: 35dp;
                            line-height: 40dp;
                            color: #ecf0f1;
                        }
                        .content__container {
                            font-weight: 600;
                            overflow: hidden;
                            height: 40dp;
                            padding: 0 40dp;
                        }
                        .content .before {
                            left: 0;
                        }
                        .content .after {
                            right: 0;
                        }
                        .content .after, .content .before {
                            position: absolute;
                            top: 0;
                            color: [active-color];
                            font-size: 42dp;
                            line-height: 40dp;
                            animation-name: opacity;
                            animation-duration: 2s;
                            animation-iteration-count: infinite;
                            animation-name: opacity;
                            animation-duration: 2s;
                            animation-iteration-count: infinite;
                        }
                        .content__container__text {
                            display: inline;
                            float: left;
                            margin: 0;
                        }
                        .content__container__text.right {
                            float: right;
                        }
                        .content__container__list {
                            margin-top: 0;
                            padding-left: 10dp;
                            text-align: left;
                            list-style: none;
                            animation-name: change;
                            animation-duration: 10s;
                            animation-iteration-count: infinite;
                            animation-name: change;
                            animation-duration: 10s;
                            animation-iteration-count: infinite;
                        }
                        .content__container__list__item {
                            line-height: 40dp;
                            margin: 0;
                        }

                        @keyframes opacity {
                            0%, 100% {
                                opacity: 0;
                            }
                            50% {
                                opacity: 1;
                            }
                        }
                        @keyframes change {
                            0%, 12.66%, 100% {
                               transform: translate3d(0, 0, 0);
                            }
                            16.66%, 29.32% {
                                transform: translate3d(0, -25%, 0);
                            }
                            33.32%,45.98% {
                                transform: translate3d(0, -50%, 0);
                            }
                            49.98%,62.64% {
                                transform: translate3d(0, -75%, 0);
                            }
                            66.64%,79.3% {
                                transform: translate3d(0, -50%, 0);
                            }
                            83.3%,95.96% {
                                transform: translate3d(0, -25%, 0);
                            }
                        }
                        
                    </style>
                    <div class="content__box">
                        <div class="content">
                            <div class="content__container">
                                <ul class="content__container__list">
                                    <li class="content__container__list__item">list.lenght</li>
                                    <li class="content__container__list__item">device.ui.dpi</li>
                                    <li class="content__container__list__item">device.feat.prefix</li>
                                    <li class="content__container__list__item">config.id</li>
                                </ul>
                            </div>
                            <div class=before>[</div>
                            <div class=after>]</div>
                        </div>
                    </div>
                </shadow>
                <p>在所有 CSS 运算函数（或变量输出）中都可以访问基础变量</p>
                <table>
                    <thead>
                        <tr>
                            <th>值</th>
                            <th>描述</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>dpi</td>
                            <td>当前设备的dpi</td>
                        </tr>
                        <tr>
                            <td>os</td>
                            <td>当前设备系统属性</td>
                        </tr>
                        <tr>
                            <td>feat</td>
                            <td>当前设备功能检测</td>
                        </tr>
                        <tr>
                            <td>prefix</td>
                            <td>当前设备支持前缀</td>
                        </tr>
                        <tr>
                            <td>module</td>
                            <td>当前css所运行在的模块对象</td>
                        </tr>
                        <tr>
                            <td>config</td>
                            <td>当前css所运行在的模块配置</td>
                        </tr>
                        <tr>
                            <td>device</td>
                            <td>当前设备的属性描述对象</td>
                        </tr>
                    </tbody>
                </table>
                <p>下面是一个针对 ios 设备设置样式的例子：</p>
                <code-highlight type=css>
                    @if(device.os.ios) {
                        header {
                            backdrop-filter: blur(20dp);
                        }
                    }
                </code-highlight>
                <p>如果想要了解每一项的详细属性可以在浏览器开发者的控制台中查看</p>
                <code-highlight type=js>
                    device.ui.dpi               //console.log(dpi)
                    device.os                   //console.log(os)
                    device.feat                 //console.log(feat)
                    device.feat.prefix          //console.log(prefix)
                    App.module                  //console.log(module)
                    device                      //console.log(device)
                    App.module.config           //console.log(config)
                </code-highlight>
            </section>
            
            <section>
                <h2>模版变量</h2>
                <p>配置在模块的数据源对象同样可以在模块 CSS 中使用<a transform=docs-module-source>#了解资源配置</a></p>
                <p>下面是一个通过用户性别来展示不同背景图的例子：</p>
                <code-highlight type=css>
                    @if(user.gender=='male') {
                        div.gender {
                            color: black;
                            background: url(./male.png);
                        }
                    }
                </code-highlight>
                <p>或者像下面这样：</p>
                <code-highlight type=html>
                    <div style="background: url(./[user.gender].png);"></div>
                </code-highlight>
                <p>在组件模版中使用时要遵循组件数据引用，如下面这个组件</p>
                <code-highlight type=html>
                    <loop list as value key>
                        <grid-photo data:pic=value.url></grid-photo>
                    </loop>
                </code-highlight>
                <p>这个组件中定义了一个新的数据源：<code>pic</code>，同样这条数据源可以在组件中的 CSS 文件里使用：</p>
                <code-highlight type=html>
                    <!-- grid-photo 组件内 -->
                    <div style=background:url([pic])></div>
                </code-highlight>
            </section>

            <include footer></include>
        </article>
    </scrolling>
</scroll>