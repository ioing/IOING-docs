<scroll fullscreen>
    <scrolling>
        <article>
            <section>
                <h2>switch</h2>
                <p>条件选择标签，当匹配到常量表达式值与条件表达式值相等的<code>case</code>时执行其内部语句，匹配后即不再执行匹配，如无匹配则执行<code>default</code>内部语句</p>
                <scroll class=exp stop-propagation="auto" x=auto y=false>
                    <scrolling style="min-width:{setting.articleWidth}dp">
                        <table>
                            <thead>
                                <tr>
                                    <th>指令</th>
                                    <th>值</th>
                                    <th>描述</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>case</td>
                                    <td>[expression] <a>#JavaScript 条件表达式</a></td>
                                    <td>设定选择条件值</td>
                                </tr>
                                <tr>
                                    <td>case</td>
                                    <td>true / 空</td>
                                    <td>值为 true 时 case 可执行 is 条件表达式</td>
                                </tr>
                            </tbody>
                        </table>
                    </scrolling>
                </scroll>
                <p>指令<code>case</code>的值会被作为<a>#JavaScript 表达式</a>解释</p>
                <code-highlight type=html>
                    <switch case=id>
                        <case value=img>我是一个图片类型</case>
                        <case value=audio>我是一个音频类型</case>
                        <case value=video>我是一个视频类型</case>
                    </switch>
                </code-highlight>
                <p>若使用了单（双）花括号表达式，其结果值将仍被作为表达式执行</p>
                <code-highlight type=html>
                    <!-- {code} 结果为字符 id，id 将被再次解释 -->
                    <switch case={code}>
                        <case value=img>我是一个图片类型</case>
                        <case value=audio>我是一个音频类型</case>
                        <case value=video>我是一个视频类型</case>
                    </switch>
                </code-highlight>
                <p>当 case 指令被设定为 true 或不设定时代表为<span>条件匹配模式</span>，此时 case 标签应以指令<code>is</code>作为匹配条件</p>
            </section>

            <section>
                <h2>case</h2>
                <p>作为一个 case 实例，结合 switch 标签完成条件选择的功能。</p>
                <scroll class=exp stop-propagation="auto" x=auto y=false>
                    <scrolling style="min-width:800dp">
                        <table>
                            <thead>
                                <tr>
                                    <th>指令</th>
                                    <th>值</th>
                                    <th>描述</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>[String]</td>
                                    <td>设定匹配值，该值为普通字符串</td>
                                </tr>
                                <tr>
                                    <td>is</td>
                                    <td>[constexpr expression]<a>#JavaScript 表达式</a></td>
                                    <td>switch 未设定条件或值为 true 时，case 需要使用 is 条件表达式</td>
                                </tr>
                            </tbody>
                        </table>
                    </scrolling>
                </scroll>
                <p>如果你的常量值符合<span>Attr 书写规范</span>，你还可以使用下面的简写方式</p>
                <code-highlight type=html>
                    <switch case=id>
                        <case img>我是一个图片类型</case>
                        <case audio>我是一个音频类型</case>
                        <case video>我是一个视频类型</case>
                    </switch>
                </code-highlight>
                <p>标签 case 上的指令<code>value</code>接收的值是一个字符串，但该值仍然可用<a transform=docs-dom-echo>#花括号表达式</a>来动态输出值</p>
                <code-highlight type=html>
                    <switch case=id>
                        <case value={0|getType}>我是一个图片类型</case>
                        <case value={1|getType}>我是一个音频类型</case>
                        <case value={2|getType}>我是一个视频类型</case>
                    </switch>
                </code-highlight>
                <p>有时我们希望能够直接在 case 标签上直接设置条件表达式（类似 <a transform=docs-dom-if param=section:if>#if 标签语句</a>那样），我们完成下面的这个完整例子，首先在 <a transform=docs-module-route param=section:config>#模块配置</a> 中配置据源为</p>
                <code-highlight type=js>
                    define(function (require, module, exports) {
                        module.exports = {
                            resources: {
                                data: {
                                    types: ['gif', 'jpg', 'png', 'bmp', 'svg', 'mp3', 'mp4']
                                    ...
                                }
                            },
                            config: { 
                                data: ['types']
                                ...
                            }
                        }
                    })
                </code-highlight>
                <p>然后我们在模块的模版中书写如下语句</p>
                <code-highlight type=html>
                    <switch case=true>
                        <case is="typeid < 5">
                            <h1>我是一张 {types[typeid]} 图片</h1>
                            <img src={src}>
                        </case>
                        <case is=5>
                            <h1>我是一个 mp3 音频</h1>
                            <audio src={src}></audio>
                        </case>
                        <case is=6>
                            <h1>我是一个 mp4 视频</h1>
                            <video src={src}></video>
                        </case>
                    </switch>
                </code-highlight>
            </section>
            <section>
                <h2>default</h2>
                <p>当 case 匹配条件不成立时，默认值性 default 标签语句</p>
                <code-highlight type=html>
                    <switch case=id>
                        <case img>我是一个图片类型</case>
                        <case audio>我是一个音频类型</case>
                        <case video>我是一个视频类型</case>
                        <default>我是一个未知类型</default>
                    </switch>
                </code-highlight>
            </section>

            <include footer></include>
        </article>
    </scrolling>
</scroll>